let jsonSkill;function ReplaceFont(){const $targets=$('.font-extra, .section-title');for(let i=0,len=$targets.length;i<len;i++){$targets.eq(i).addClass('js-font-extra-ios')}} function CheckiOS(){const ua=navigator.userAgent;if(ua.indexOf('iPhone')>0||ua.indexOf('iPod')>0){ReplaceFont()}else if(ua.indexOf('iPad')>0){ReplaceFont()}else if(ua.indexOf('Safari')>0&&ua.indexOf('Chrome')==-1&&typeof document.ontouchstart!=='undefined'){ReplaceFont()}} function Loadjson(){$.ajax({type:'GET',url:'json/skills.json',dataType:'json',}).then(function(json){jsonSkill=json},function(){})} $(function(){let headerFlag=!1;$(window).scroll(function(){const windowHeight=$(window).height();let thisPos;const $header=$('.header-wrapper');thisPos=$(this).scrollTop();if(thisPos>windowHeight/2){if(!headerFlag){headerFlag=!0;$header.toggleClass('is-hide')}}else{if(headerFlag){headerFlag=!1;$header.toggleClass('is-hide')}} $('.js-skill').each(function(){thisPos=$(this).offset().top;const scroll=$(window).scrollTop();const $paId=$(this).parent().attr('id');const per=(100-jsonSkill[$paId])*0.8;const currentHeight=$(this).css('height');const firstHeight=$(this).prev().css('height');if(currentHeight===firstHeight&&scroll>thisPos-windowHeight+windowHeight/3){$(this).animate({height:`${per}%`,},{duration:1300})}else{}})})});$(function(){$('a[href^="#"]').click(function(){const speed=500;const href=$(this).attr('href');const target=$(href=='#'||href==''?'html':href);const position=target.offset().top-$(window).height()/10;$('html, body').animate({scrollTop:position},speed,'swing');return!1})});document.addEventListener('DOMContentLoaded',function(){CheckiOS();Loadjson()},!1);const $covers=$('.top-cover');let flagLR=!0;function AddClass(target){if(flagLR){target.addClass('fadeOutLtoR');flagLR=!1}else{target.addClass('fadeOutRtoL');flagLR=!0} setTimeout(CoverHide,3000,target)} function CoverHide(target){target.addClass('is-hide')} let promise=Promise.resolve();for(let i=0,len=$covers.length;i<len;i++){promise=promise.then(MoveCover.bind(this,i))} function MoveCover(nth){return new Promise((resolve,reject)=>{setTimeout(()=>{resolve(AddClass($covers.eq(nth)))},500)})}